
# DFU_PAN 下载与安装示例
源码路径：example\dfu_pan
## 支持的平台
例程可以运行在以下开发板。
* sf32lb52-lcd_n16r8
## 示例概述
* 实现通过蓝牙PAN连接进行OTA固件下载和安装功能
* 配合middleware/dfu_pan中间件，作为子程序使用
* 支持蓝牙连接管理、固件包解析、Flash写入和CRC校验等完整OTA流程
## 例程的使用
**注意：**
本例程不需要单独编译，而是作为主程序的子程序使用，参考bt/pan_ota例程的project/SConstruct写法

1.主程序project/proj.conf文件中添加，使能DFU_PAN功能
```
CONFIG_USING_DFU_PAN=y
```

2.主程序中的SConstruct下添加子工程语法 
```
AddDFU_PAN(SIFLI_SDK)
```
通常语句添加位置在 DoBuilding(TARGET, objs) 下面

### 功能说明
该示例程序实现了完整的OTA下载和安装功能：
1. 初始化蓝牙协议栈并建立PAN连接
2. 通过UI线程显示OTA状态信息
3. 提供命令行接口用于版本查询、下载和安装
4. 支持固件包解析、Flash写入和校验

### 主要功能模块
#### 蓝牙连接管理
程序初始化蓝牙协议栈并监听连接事件，支持自动建立PAN连接用于网络传输。
#### UI界面
通过UI线程显示OTA状态信息，包括固件版本、下载进度、下载速度、下载状态等信息。
## 注意事项
1. 需要预先通过其他方式获取版本信息并存储在Flash中
2. 确保设备有足够的Flash空间存储新固件
3. 下载过程中应保持稳定的网络连接
## 更新记录
|版本  |日期    |发布说明 |
|:---  |:---    |:---    |
|1.0.0 |11/2025 |初始版本 |
|      |        |        |
